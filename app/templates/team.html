{#  app/templates/team.html  #}
{% extends "base.html" %}

{% block head_extra %}
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

  <style>
    /* CSS für Slide-Breiten und Pfeile kann hier oder in externer CSS sein */

    /* 1) Slide-Breite */
    .teamSwiper .swiper-slide { width: 440px; }
    @media (min-width: 768px) {
      .teamSwiper .swiper-slide { width: 480px; }
    }
    @media (min-width: 992px) {
      .teamSwiper .swiper-slide { width: 520px; }
    }

    /* 3) Navigation-Pfeile */
    .teamSwiper .swiper-button-prev,
    .teamSwiper .swiper-button-next {
      color: var(--bs-primary);
      width: 44px;
      height: 44px;
      z-index: 10;
    }
    .teamSwiper .swiper-button-prev::after,
    .teamSwiper .swiper-button-next::after {
      font-size: 28px;
    }

    /* --- Full‑screen Member Slides ----------------------------------- */
    .member-slide{
      width:100%;
      height:100vh;               /* volle Fensterhöhe */
      display:flex;
      align-items:center;
      background-size:cover;
      background-position:center left;
      position:relative;
    }
    .member-slide::after{
      content:'';
      position:absolute;
      inset:0;
      background:linear-gradient(90deg, rgba(255,255,255,0) 55%, #fff 95%);
    }
    .member-info{
      position:relative;
      margin-left:auto;
      margin-right:5%;
      max-width:420px;
      background:#fff;
      padding:2rem;
      box-shadow:0 .5rem 1rem rgba(0,0,0,.15);
      border-radius:.5rem;
      text-align:left;
    }
    .member-info h2{
      color:var(--bs-primary);
      margin-bottom:.25rem;
    }
    .member-info .role{
      font-weight:600;
      margin-bottom:1rem;
    }
    @media (max-width: 767.98px){
      .member-slide{
        flex-direction:column;
        justify-content:flex-end;
        background-position:center top;
      }
      .member-slide::after{
        background:linear-gradient(180deg, rgba(255,255,255,0) 60%, #fff 95%);
      }
      .member-info{
        margin:auto 1rem 3rem;
        max-width:90%;
      }
    }
  </style>
{% endblock %}

{% block content %}
<!-- Hero‑Banner -->
<header class="hero-flipper d-flex align-items-center text-white text-center">
  <div class="container overlay py-5">
    <h1 class="display-4 fw-bold">Unser Team</h1>
    <p class="lead mb-0">Lerne unser engagiertes Team kennen</p>
  </div>
</header>

<!-- Vollbild‑Swiper für Mitglieder -->
<div class="swiper memberSwiper">
  <div class="swiper-wrapper">
    {% for m in members %}
    <div class="swiper-slide member-slide" style="background-image:url('{{ m.image | asset }}');">
      <div class="member-info">
        <h2>{{ m.name }}</h2>
        <div class="role text-muted mb-2">{{ m.role }}</div>
        {% if m.bio %}
          <p>{{ m.bio }}</p>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>

  <!-- Navigation -->
  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>
  <div class="swiper-pagination"></div>
</div>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      new Swiper('.memberSwiper',{
        effect      : 'fade',
        fadeEffect  : { crossFade:true },
        slidesPerView:1,
        speed       : 600,
        navigation  : {
          nextEl: '.memberSwiper .swiper-button-next',
          prevEl: '.memberSwiper .swiper-button-prev'
        },
        pagination  : {
          el: '.memberSwiper .swiper-pagination',
          clickable:true
        },
        keyboard    : { enabled:true },
      });
    });
  </script>
{% endblock %}